<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 釜山國際煙火節</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .fade-enter-active, .fade-leave-active { transition: opacity 0.2s; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }
        /* 隱藏滾動條但保留功能 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

<div id="app" class="max-w-md mx-auto bg-white min-h-screen shadow-xl relative pb-20 sm:max-w-2xl sm:my-8 sm:min-h-[800px] sm:rounded-xl overflow-hidden">

    <div v-if="currentView === 'welcome'" class="h-screen sm:h-[800px] flex flex-col justify-center items-center bg-slate-800 text-white p-6 relative">
        <div class="absolute inset-0 overflow-hidden opacity-30">
            <i class="fa-solid fa-fireworks text-9xl absolute top-10 right-10 text-yellow-500 animate-pulse"></i>
            <i class="fa-solid fa-fireworks text-8xl absolute bottom-20 left-10 text-pink-500 animate-pulse" style="animation-delay: 0.5s"></i>
        </div>
        
        <div class="z-10 text-center space-y-6">
            <div class="w-20 h-1 bg-yellow-400 mx-auto mb-4"></div>
            <h1 class="text-3xl font-bold tracking-widest leading-relaxed">2026<br>釜山國際煙火節</h1>
            <p class="text-gray-300 tracking-wide text-sm">Busan International Fireworks Festival</p>
            
            <button @click="currentView = 'itinerary'" 
                class="mt-12 px-8 py-3 border border-white rounded-full hover:bg-white hover:text-slate-900 transition duration-300">
                ENTER <i class="fa-solid fa-chevron-right ml-2 text-xs"></i>
            </button>
        </div>
        
        <div class="absolute bottom-8 text-xs text-gray-500">Designed by You</div>
    </div>

    <div v-else class="h-full">
        
        <div class="bg-white px-6 py-4 border-b border-gray-100 sticky top-0 z-10 flex justify-between items-center">
            <h2 class="font-bold text-lg text-slate-800">
                {{ pageTitle }}
            </h2>
            <button @click="currentView = 'welcome'" class="text-gray-400 hover:text-gray-600">
                <i class="fa-solid fa-house"></i>
            </button>
        </div>

        <div class="p-4 pb-24">
            
            <div v-if="currentView === 'itinerary'">
                <div class="flex overflow-x-auto space-x-2 mb-4 pb-2 no-scrollbar">
                    <button v-for="(day, index) in itinerary" :key="index"
                        @click="activeDay = index"
                        :class="['px-4 py-2 rounded-lg whitespace-nowrap text-sm font-medium transition-colors', 
                        activeDay === index ? 'bg-slate-800 text-white' : 'bg-gray-100 text-gray-500 hover:bg-gray-200']">
                        Day {{ index + 1 }}
                    </button>
                </div>

                <div class="space-y-4 animate-fade-in">
                    <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 mb-4">
                        <h3 class="font-bold text-blue-800">{{ itinerary[activeDay].theme }}</h3>
                        <p class="text-xs text-blue-600 mt-1">{{ itinerary[activeDay].dateDesc }}</p>
                    </div>

                    <div v-for="(item, idx) in itinerary[activeDay].events" :key="idx" class="flex gap-4 relative">
                        <div class="flex flex-col items-center w-12 flex-shrink-0">
                            <span class="text-xs font-mono font-bold text-gray-500">{{ item.time }}</span>
                            <div class="w-0.5 h-full bg-gray-200 my-1 relative">
                                <div class="absolute top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rounded-full" 
                                     :class="item.highlight ? 'bg-pink-500' : 'bg-gray-400'"></div>
                            </div>
                        </div>
                        
                        <div class="flex-1 bg-white p-3 rounded-lg shadow-sm border border-gray-100 mb-2">
                            <h4 class="font-bold text-gray-800" :class="{'text-pink-600': item.highlight}">
                                {{ item.title }}
                            </h4>
                            <div class="text-sm text-gray-600 mt-1 leading-relaxed whitespace-pre-line">
                                {{ item.desc }}
                            </div>
                            <div v-if="item.note" class="mt-2 text-xs text-amber-600 bg-amber-50 p-2 rounded">
                                <i class="fa-solid fa-circle-info mr-1"></i> {{ item.note }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentView === 'packing'">
                <div class="mb-4 flex items-center gap-2">
                    <input v-model="packingTitle" class="text-xl font-bold bg-transparent border-b border-dashed border-gray-300 focus:border-blue-500 outline-none w-full py-1" placeholder="點擊修改標題">
                    <i class="fa-solid fa-pen text-gray-300 text-xs"></i>
                </div>
                
                <div v-for="(group, gIdx) in packingList" :key="gIdx" class="mb-6">
                    <h3 class="font-bold text-gray-700 mb-2 flex items-center">
                        <i :class="group.icon" class="mr-2 text-slate-500"></i> {{ group.category }}
                    </h3>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                        <div v-for="(item, iIdx) in group.items" :key="iIdx" 
                             @click="item.checked = !item.checked"
                             class="p-3 border-b border-gray-50 last:border-0 flex items-center cursor-pointer hover:bg-gray-50">
                            <div :class="['w-5 h-5 rounded border mr-3 flex items-center justify-center transition-colors', 
                                item.checked ? 'bg-green-500 border-green-500' : 'border-gray-300']">
                                <i v-if="item.checked" class="fa-solid fa-check text-white text-xs"></i>
                            </div>
                            <span :class="['text-sm transition-colors', item.checked ? 'text-gray-400 line-through' : 'text-gray-700']">
                                {{ item.name }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentView === 'ledger'">
                <div class="mb-4 flex items-center gap-2">
                    <input v-model="ledgerTitle" class="text-xl font-bold bg-transparent border-b border-dashed border-gray-300 focus:border-blue-500 outline-none w-full py-1" placeholder="點擊修改標題">
                    <i class="fa-solid fa-pen text-gray-300 text-xs"></i>
                </div>

                <div class="bg-gradient-to-r from-slate-700 to-slate-800 rounded-xl p-5 text-white shadow-lg mb-6">
                    <p class="text-xs opacity-70">總支出 (KRW)</p>
                    <p class="text-3xl font-mono font-bold mt-1">₩ {{ totalCost.toLocaleString() }}</p>
                </div>

                <div class="flex gap-2 mb-4">
                    <input v-model="newCostName" placeholder="項目" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-slate-500">
                    <input v-model.number="newCostPrice" type="number" placeholder="金額" class="w-24 p-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-slate-500">
                    <button @click="addCost" class="bg-slate-800 text-white px-4 rounded-lg">
                        <i class="fa-solid fa-plus"></i>
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                    <div v-for="(record, idx) in ledgerData" :key="idx" class="p-3 border-b border-gray-50 last:border-0 flex justify-between items-center">
                        <span class="text-sm text-gray-700">{{ record.name }}</span>
                        <div class="flex items-center gap-3">
                            <span class="text-sm font-mono font-bold">₩ {{ record.price.toLocaleString() }}</span>
                            <button @click="ledgerData.splice(idx, 1)" class="text-gray-300 hover:text-red-500">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    </div>
                    <div v-if="ledgerData.length === 0" class="p-4 text-center text-sm text-gray-400">
                        暫無紀錄
                    </div>
                </div>
            </div>

        </div>
    </div>

    <nav v-if="currentView !== 'welcome'" class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 z-50 sm:absolute sm:rounded-b-xl">
        <div class="grid grid-cols-3 h-16 max-w-md mx-auto sm:max-w-none">
            <button @click="currentView = 'itinerary'" 
                :class="['flex flex-col items-center justify-center space-y-1', currentView === 'itinerary' ? 'text-slate-800' : 'text-gray-400']">
                <i class="fa-regular fa-calendar-check text-xl"></i>
                <span class="text-xs">行程</span>
            </button>
            <button @click="currentView = 'packing'" 
                :class="['flex flex-col items-center justify-center space-y-1', currentView === 'packing' ? 'text-slate-800' : 'text-gray-400']">
                <i class="fa-solid fa-suitcase text-xl"></i>
                <span class="text-xs">清單</span>
            </button>
            <button @click="currentView = 'ledger'" 
                :class="['flex flex-col items-center justify-center space-y-1', currentView === 'ledger' ? 'text-slate-800' : 'text-gray-400']">
                <i class="fa-solid fa-won-sign text-xl"></i>
                <span class="text-xs">記帳</span>
            </button>
        </div>
    </nav>

</div>

<script>
    const { createApp, ref, computed } = Vue;

    createApp({
        setup() {
            const currentView = ref('welcome');
            const activeDay = ref(0);
            
            // 可編輯標題
            const packingTitle = ref('個人行李清單');
            const ledgerTitle = ref('個人記帳本');

            // 行程資料 (釜山)
            const itinerary = ref([
                {
                    theme: "抵達 & 海邊散步",
                    dateDesc: "Day 1 (週五)",
                    events: [
                        { time: "14:30", title: "抵達金海機場 (PUS)", desc: "搭計程車直奔廣安里。", note: "建議計程車" },
                        { time: "16:00", title: "飯店 Check-in", desc: "確認房間視野，買好零食飲料。", highlight: true },
                        { time: "18:00", title: "廣安里晚餐", desc: "烤貝類或韓式烤肉，欣賞廣安大橋夜景。" },
                        { time: "20:00", title: "無人機秀", desc: "週六有正式表演，週五可能有預熱，或單純享受海風。" }
                    ]
                },
                {
                    theme: "膠囊列車 & 煙火",
                    dateDesc: "Day 2 (週六) 煙火節當日",
                    events: [
                        { time: "10:30", title: "早午餐", desc: "廣安里知名早午餐 (Little Aus 或海景咖啡)。" },
                        { time: "13:00", title: "海雲台藍線公園", desc: "搭計程車至尾浦站。\n體驗天空膠囊列車 (Sky Capsule)。", note: "需預約" },
                        { time: "15:30", title: "返回飯店", desc: "避開管制人潮，回房間叫外送炸雞、準備香檳。", highlight: true },
                        { time: "20:00", title: "釜山國際煙火節", desc: "在落地窗前舒適看煙火。", highlight: true },
                        { time: "21:30", title: "休息", desc: "避開散場人潮，在房內休息。" }
                    ]
                },
                {
                    theme: "慶州古都一日遊",
                    dateDesc: "Day 3 (週日)",
                    events: [
                        { time: "11:00", title: "退房 & 移動", desc: "寄放行李或包車出發。" },
                        { time: "12:30", title: "抵達慶州", desc: "建議包車一日遊，省去轉車疲勞。" },
                        { time: "13:30", title: "皇理團路", desc: "韓屋文青街區午餐、逛街。" },
                        { time: "15:30", title: "大陵苑", desc: "皇陵古墳群散步。" },
                        { time: "17:00", title: "東宮與月池", desc: "欣賞古宮夜景。", highlight: true },
                        { time: "20:00", title: "返回釜山西面", desc: "晚餐：味贊王鹽烤肉或豬肉湯飯。" }
                    ]
                },
                {
                    theme: "甘川洞 & 採買",
                    dateDesc: "Day 4 (週一)",
                    events: [
                        { time: "10:30", title: "前往甘川洞", desc: "週一遊客較少。" },
                        { time: "11:30", title: "文化村 + 韓服", desc: "與小王子合照，慢慢走拍。" },
                        { time: "14:30", title: "南浦洞", desc: "BIFF 廣場黑糖餅、光復路逛街、樂天百貨水舞秀。" },
                        { time: "18:00", title: "樂天超市", desc: "採買伴手禮，搭計程車回飯店打包。" }
                    ]
                },
                {
                    theme: "返家",
                    dateDesc: "Day 5 (週二)",
                    events: [
                        { time: "10:00", title: "前往機場", desc: "從西面搭計程車約 30 分鐘。" },
                        { time: "11:00", title: "機場免稅店", desc: "領取免稅品 (美妝、菸酒、正官庄)。" },
                        { time: "13:00", title: "飛機起飛", desc: "回家。" }
                    ]
                }
            ]);

            // 行李資料
            const packingList = ref([
                { category: "證件與錢", icon: "fa-solid fa-passport", items: [
                    { name: "護照", checked: false },
                    { name: "網卡/Wifi", checked: false },
                    { name: "現金/WOW Pass", checked: false }
                ]},
                { category: "衣物", icon: "fa-solid fa-shirt", items: [
                    { name: "換洗衣物", checked: false },
                    { name: "睡衣/睡袍", checked: false },
                    { name: "好走的鞋", checked: false }
                ]},
                { category: "電子產品", icon: "fa-solid fa-bolt", items: [
                    { name: "轉接頭 (韓國圓孔)", checked: false },
                    { name: "充電線/行充", checked: false }
                ]}
            ]);

            // 記帳資料
            const ledgerData = ref([
                { name: "機場巴士", price: 18000 },
                { name: "便利商店", price: 5600 }
            ]);
            const newCostName = ref('');
            const newCostPrice = ref(null);

            const addCost = () => {
                if(newCostName.value && newCostPrice.value) {
                    ledgerData.value.push({ name: newCostName.value, price: newCostPrice.value });
                    newCostName.value = '';
                    newCostPrice.value = null;
                }
            };

            const totalCost = computed(() => {
                return ledgerData.value.reduce((sum, item) => sum + item.price, 0);
            });

            // 標題顯示邏輯
            const pageTitle = computed(() => {
                if (currentView.value === 'itinerary') return '2026 釜山國際煙火節';
                if (currentView.value === 'packing') return '行李清單';
                if (currentView.value === 'ledger') return '旅費記帳';
                return '';
            });

            return {
                currentView,
                activeDay,
                itinerary,
                packingList,
                ledgerData,
                newCostName,
                newCostPrice,
                addCost,
                totalCost,
                pageTitle,
                packingTitle,
                ledgerTitle
            };
        }
    }).mount('#app');
</script>
</body>
</html>
